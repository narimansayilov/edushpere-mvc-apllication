@model EduSphere.Data.ViewModels.NewCourseVM
@using EduSphere.Data;

@{
    ViewData["Title"] = "Update Course";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-body">
                    <h4 class="card-title text-center mb-4">Update Course</h4>
                    <form asp-action="Edit">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                        <div class="text-center mb-4">
                            <img id="ImageUrlPreview" class="border-info" style="width: 60%" />
                        </div>
                        <div class="row">
                            <div class="col-md-6">

                                <div class="form-group">
                                    <label asp-for="Name" class="control-label">Course Name:</label>
                                    <input asp-for="Name" class="form-control" />
                                    <span asp-validation-for="Name" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="StartDate" class="control-label">Start Date:</label>
                                    <input asp-for="StartDate" type="date" class="form-control" />
                                    <span asp-validation-for="StartDate" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="EndDate" class="control-label">End Date:</label>
                                    <input asp-for="EndDate" type="date" class="form-control" />
                                    <span asp-validation-for="EndDate" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="Price" class="control-label">Price:</label>
                                    <input asp-for="Price" type="number" class="form-control" />
                                    <span asp-validation-for="Price" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="ImageUrl" class="control-label">Image URL:</label>
                                    <input asp-for="ImageUrl" class="form-control" />
                                    <span asp-validation-for="ImageUrl" class="text-danger"></span>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="CompanyId" class="control-label">Company:</label>
                                    <select asp-for="CompanyId" class="form-control" asp-items="ViewBag.Companies"></select>
                                    <span asp-validation-for="CompanyId" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="CourseCategory" class="control-label">Category:</label>
                                    <select asp-for="CourseCategory" class="form-control" asp-items="Html.GetEnumSelectList<EduSphere.Data.Enums.CourseCategory>()"></select>
                                    <span asp-validation-for="CourseCategory" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <label asp-for="TeacherIds" class="control-label">Teacher IDs:</label>
                                    <textarea asp-for="TeacherIds" class="form-control"></textarea>
                                    <span asp-validation-for="TeacherIds" class="text-danger"></span>
                                </div>

                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label asp-for="Description" class="control-label">Description:</label>
                                    <textarea asp-for="Description" class="form-control" rows="4"></textarea>
                                    <span asp-validation-for="Description" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group text-center mt-4">
                            <input type="submit" value="Update" class="btn btn-success mr-2" />
                            <a class="btn btn-secondary" asp-action="Index">Show All</a>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            var output = document.getElementById("ImageUrlPreview");
            output.src = $("#ImageUrl").val();
        });

        $("#ImageUrl").on("change", function () {
            var output = document.getElementById("ImageUrlPreview");
            output.src = $(this).val();
        })
    </script>
}
<style>
    .btn-success, .btn-secondary {
        margin-top: 20px;
        padding: 0.5rem 1.5rem;
        font-size: 1rem;
    }

    .form-control {
        margin-bottom: 15px;
    }

    .card {
        border: none;
        border-radius: 10px;
    }

    .card-body {
        padding: 2rem;
    }

    .card-title {
        font-weight: bold;
    }

    .border {
        border-width: 2px !important;
    }
</style>
